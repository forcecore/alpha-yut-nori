<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Yut Nori (윷놀이)</title>
  <script type="module" crossorigin src="/alpha-yut-nori/assets/index-BmVPUpBW.js"></script>
  <link rel="stylesheet" crossorigin href="/alpha-yut-nori/assets/index-DyklaPLV.css">
</head>
<body>
  <div id="app">
    <!-- Setup overlay -->
    <div id="setup-overlay" class="overlay">
      <div class="setup-panel">
        <h1>윷놀이 <span class="subtitle">Yut Nori</span></h1>
        <div class="setup-form">
          <label>
            Players
            <select id="player-count">
              <option value="2" selected>2</option>
              <option value="3">3</option>
              <option value="4">4</option>
            </select>
          </label>
          <div id="player-configs"></div>
          <label class="checkbox-label">
            <input type="checkbox" id="fast-mode" /> Fast mode (skip animations)
          </label>
          <button id="start-btn" class="btn btn-primary">Start Game</button>
        </div>
      </div>
    </div>

    <!-- Game layout -->
    <div id="game-container" class="hidden">
      <header id="header">
        <h1>윷놀이 <span class="subtitle">Yut Nori</span></h1>
        <div class="header-actions">
          <button id="help-btn" class="btn btn-small" title="Help (?)">?</button>
          <button id="settings-btn" class="btn btn-small" title="Settings">설정</button>
        </div>
      </header>

      <main id="main">
        <div id="board-area">
          <svg id="board-svg" viewBox="0 0 600 600" xmlns="http://www.w3.org/2000/svg"></svg>
          <!-- Throw animation area -->
          <div id="throw-area" class="hidden">
            <svg id="throw-svg" viewBox="0 0 300 120" xmlns="http://www.w3.org/2000/svg"></svg>
            <div id="throw-result"></div>
          </div>
        </div>

        <aside id="side-panel">
          <section id="player-status"></section>
          <section id="moves-section">
            <h3>Moves</h3>
            <div id="moves-list"></div>
          </section>
          <section id="history-section">
            <h3>History</h3>
            <div id="history-log"></div>
          </section>
        </aside>
      </main>

      <footer id="action-bar">
        <div id="action-buttons"></div>
        <div id="status-message"></div>
      </footer>
    </div>

    <!-- Help overlay -->
    <div id="help-overlay" class="overlay hidden">
      <div class="help-panel">
        <h2>How to Play</h2>
        <div class="help-content">
          <h3>Keyboard Shortcuts</h3>
          <table>
            <tr><td><kbd>Space</kbd> / <kbd>Enter</kbd></td><td>Throw sticks</td></tr>
            <tr><td><kbd>Q</kbd> <kbd>W</kbd> <kbd>E</kbd> <kbd>R</kbd></td><td>Select piece / move</td></tr>
            <tr><td><kbd>N</kbd></td><td>Enter new piece</td></tr>
            <tr><td><kbd>0</kbd></td><td>Skip remaining moves</td></tr>
            <tr><td><kbd>Escape</kbd></td><td>Back / Cancel</td></tr>
            <tr><td><kbd>?</kbd></td><td>Toggle help</td></tr>
          </table>
          <h3>Rules</h3>
          <p>Throw 4 yut sticks. Move pieces around the board. First to get all 4 pieces home wins!</p>
          <ul>
            <li><strong>Do (도)</strong> = 1 step, <strong>Gae (개)</strong> = 2, <strong>Geol (걸)</strong> = 3</li>
            <li><strong>Yut (윷)</strong> = 4 steps + bonus throw</li>
            <li><strong>Mo (모)</strong> = 5 steps + bonus throw</li>
            <li><strong>Back Do (빽도)</strong> = -1 step</li>
            <li>Land on opponent → capture (sends them home) + bonus throw</li>
            <li>Land on your own piece → stack (move together)</li>
            <li>Positions 05 and 10 activate diagonal shortcuts</li>
          </ul>
        </div>
        <button id="help-close-btn" class="btn">Close</button>
      </div>
    </div>
  </div>

</body>
</html>
